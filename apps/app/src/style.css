:root{
  /* Theme */
  --gold: #ffd36a;
  --gold2: #ffb200;
  --gold3: #fff1b0;
  --goldGlow1: rgba(255, 210, 90, 0.65);
  --goldGlow2: rgba(255, 170, 0, 0.55);

  --mystic: #9b5cff;
  --mysticEdge: #3a1871;
  --mysticGlow1: rgba(155,92,255,0.70);
  --mysticGlow1: rgba(148, 107, 213, 0.7);

  /* Wheel sizing (MUST match JS ITEM_H) */
  --rowH: 48px;
  --visibleRows: 3;
  --padRows: 1;

  /* Layout */
  --panelW: min(92vw, 320px);
  --gap: 12px;

  --highlightOffset: 5px; /* try 1px, 2px, 3px… (positive moves DOWN) */
}

/* Highlight sits on the middle row */


*{ margin:0; padding:0; box-sizing:border-box; }

html, body{
  width:100%;
  height:100%;
  overflow:hidden;
  background:#0a0a12;
  color:#fff;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

#app{
  width: 100vw;
  height: 100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* ===== Picker shell (same for both steps) ===== */
.picker-screen{
  width: 100vw;
  height: 100dvh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding: 4vh 0 3vh;
  overflow: hidden;
}

.picker-title{ font-size: clamp(18px, 5vw, 26px); margin: 0 0 0.5vh; }
.picker-heading{
  font-size: clamp(22px, 7vw, 34px);
  letter-spacing: 0.6em;
  margin-left: 0.6em;
  color: var(--gold);
  text-shadow: 0 0 15px rgba(255,210,90,.35);
  margin-bottom: 2.2vh;
}

.picker-panel{
  width: min(92vw, 320px);
  flex: 1;
  min-height: 0;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 1.2vh;
}

.picker-label{
  text-align: center;
  font-size: clamp(10px, 3.2vw, 14px);
  color: var(--mystic);
  letter-spacing: 0.55em;
  font-weight: 800;
  text-transform: uppercase;
  text-shadow: 0 0 10px var(--mysticGlow), 0 0 2px rgba(0,0,0,.85);
}

/* ===== Wheel sizing: flexible but consistent =====
   We still keep snap perfect by letting JS read the computed row height.
*/
:root{
  --visibleRows: 3;               /* R1: 3 rows visible */
  --rowH: clamp(42px, 12.5vw, 56px); /* flexible row height */
  --padRows: 1;                   /* (visibleRows-1)/2 */
}

.wheel-mask{
  position: relative;
  width: 100%;
  height: calc(var(--rowH) * var(--visibleRows));
  overflow: hidden;
  border-radius: 16px;
  background: rgba(255,255,255,0.02);
}

.wheel-mask::before,
.wheel-mask::after{
  content:'';
  position:absolute;
  left:0; right:0;
  height: calc(var(--rowH) * var(--padRows));
  z-index:2;
  pointer-events:none;
}

.wheel-mask::before{
  top:0;
  background: linear-gradient(to bottom, #0a0a12 0%, transparent 100%);
}
.wheel-mask::after{
  bottom:0;
  background: linear-gradient(to top, #0a0a12 0%, transparent 100%);
}

/* highlight always middle row */
.wheel-highlight{
  position:absolute;
  top: calc(var(--rowH) * var(--padRows) + var(--highlightOffset));
  left: 1%;
  right: 1%;
  height: var(--rowH);
  border-radius: 14px;
  z-index:1;
  pointer-events:none;
  
  border: 1.5px solid rgba(212, 175, 55, 0.55);
  background: rgba(212, 175, 55, 0.08);
  box-shadow:
    0 0 18px rgba(0,0,0,.35),
    0 0 14px var(--goldGlow1),
    0 0 26px var(--goldGlow2),
    0 0 2px rgba(255,241,176,.55) inset;
}

.wheel-scroll{
  width:100%;
  height:100%;
  overflow-y:auto;
  scroll-snap-type:y mandatory;
  -webkit-overflow-scrolling:touch;
  scrollbar-width:none;
}
.wheel-scroll::-webkit-scrollbar{ display:none; }

.wheel-pad{
  height: calc(var(--rowH) * var(--padRows));
  flex-shrink: 0;
}

.wheel-item{
  height: var(--rowH);
  display:flex;
  align-items:center;
  gap: 8px;
  padding: 0 12px;
  scroll-snap-align:center;
  cursor:pointer;
  -webkit-tap-highlight-color: transparent;
  transition: opacity .14s ease, transform .14s ease;
  will-change: transform, opacity;
}

/* Prevent twitch */
.wheel-text, .wheel-num{
  transform: translateZ(0);
  -webkit-font-smoothing: antialiased;
}

/* deck row bits */
.wheel-thumb{
  width: clamp(26px, 8vw, 34px);
  height: clamp(26px, 8vw, 34px);
  border-radius: 8px;
  object-fit: cover;
  background: #1a1a2e;
  flex-shrink: 0;
}
.wheel-text{
  font-size: clamp(12px, 3.6vw, 16px);
  font-weight: 700;
  color: #f0e6d0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.wheel-item-count{ justify-content:center; }
.wheel-num{
  font-size: clamp(14px, 4.2vw, 18px);
  font-weight: 800;
  color: #f0e6d0;
}

/* footer */
.picker-footer{
  width: min(92vw, 320px);
  display:flex;
  gap: 12px;
  align-items:center;
  justify-content: space-between;
  padding-top: 1.8vh;
}

.btn-start{
  flex: 1;
  min-height: 44px;
  padding: 14px 0;
  font-size: clamp(14px, 4vw, 18px);
  font-weight: 900;
  letter-spacing: 0.32em;

  background: linear-gradient(135deg, var(--gold3), var(--gold2));
  color: #0a0a12;
  border: none;
  border-radius: 14px;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;

  box-shadow:
    0 10px 24px rgba(0,0,0,.45),
    0 0 18px rgba(255,210,90,.35);
  forced-color-adjust: none;
}

.link-btn{
  width: 48px;
  min-width: 48px;
  height: 44px;
  border-radius: 12px;
  border: 1px solid rgba(155,92,255,.45);
  background: rgba(155,92,255,.08);
  color: var(--mystic);
  font-weight: 900;
  font-size: 18px;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  forced-color-adjust: none;
}


/* ============================================================
   SHUFFLE ANIMATION (no text, cards only)
   ============================================================ */
.shuffling {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  width: 100vw;
}

.shuffle-cards {
  position: relative;
  width: 50vw;
  height: 35vh;
}

.scard {
  position: absolute;
  width: 18vw;
  height: 28vw;
  border-radius: 2vw;
  border: 1.5px solid #d4af37;
  background: linear-gradient(135deg, #1a1a2e, #16213e);
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.5);
  left: 50%;
  top: 50%;
  transform-origin: center center;
}

.scard::after {
  content: '✦';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 5vw;
  color: rgba(212, 175, 55, 0.5);
}

.s1 { animation: shuffleCard1 0.7s ease-in-out 2; }
.s2 { animation: shuffleCard2 0.7s ease-in-out 2; animation-delay: 0.08s; }
.s3 { animation: shuffleCard3 0.7s ease-in-out 2; animation-delay: 0.16s; }
.s4 { animation: shuffleCard4 0.7s ease-in-out 2; animation-delay: 0.24s; }
.s5 { animation: shuffleCard5 0.7s ease-in-out 2; animation-delay: 0.32s; }

@keyframes shuffleCard1 {
  0%   { transform: translate(-50%, -50%) rotate(-12deg) translateX(-14vw); }
  50%  { transform: translate(-50%, -50%) rotate(8deg) translateX(10vw) translateY(-4vh); }
  100% { transform: translate(-50%, -50%) rotate(-12deg) translateX(-14vw); }
}

@keyframes shuffleCard2 {
  0%   { transform: translate(-50%, -50%) rotate(-6deg) translateX(-7vw); }
  50%  { transform: translate(-50%, -50%) rotate(12deg) translateX(6vw) translateY(-6vh); }
  100% { transform: translate(-50%, -50%) rotate(-6deg) translateX(-7vw); }
}

@keyframes shuffleCard3 {
  0%   { transform: translate(-50%, -50%) rotate(0deg); }
  50%  { transform: translate(-50%, -50%) rotate(0deg) translateY(-8vh) scale(1.08); }
  100% { transform: translate(-50%, -50%) rotate(0deg); }
}

@keyframes shuffleCard4 {
  0%   { transform: translate(-50%, -50%) rotate(6deg) translateX(7vw); }
  50%  { transform: translate(-50%, -50%) rotate(-12deg) translateX(-6vw) translateY(-6vh); }
  100% { transform: translate(-50%, -50%) rotate(6deg) translateX(7vw); }
}

@keyframes shuffleCard5 {
  0%   { transform: translate(-50%, -50%) rotate(12deg) translateX(14vw); }
  50%  { transform: translate(-50%, -50%) rotate(-8deg) translateX(-10vw) translateY(-4vh); }
  100% { transform: translate(-50%, -50%) rotate(12deg) translateX(14vw); }
}

/* ============================================================
   FACE-DOWN GRID
   ============================================================ */
.grid-screen {
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100vh;
  width: 100vw;
  padding: 1.5vh 2vw 1vh;
}

.grid-header {
  display: flex;
  justify-content: space-between;
  width: 100%;
  padding: 0 2vw;
  margin-bottom: 1vh;
}

.grid-status {
  font-size: 3.2vw;
  color: #d4af37;
  font-weight: 600;
}

.grid-count {
  font-size: 3.2vw;
  color: #888;
}

.grid-wrap {
  flex: 1;
  width: 100%;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

.grid-wrap::-webkit-scrollbar {
  display: none;
}

.grid {
  display: grid;
  grid-template-columns: repeat(9, 1fr);
  gap: 1vw;
  padding: 0 1vw 1vh;
}

.grid-card{
  aspect-ratio: 2/3;
  border-radius: 1.2vw;
  border: 1px solid #d4af37;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  transition: all 0.2s ease;
  position: relative;

  /* NEW: show deck back art */
  background-color: #111126;
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain; /* <-- key: thumbnail, not zoom-crop */
}

.grid-card::after {
  content: '✦';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 2.5vw;
  color: rgba(212, 175, 55, 0.4);
}

.grid-card:active {
  transform: scale(0.9);
}

.grid-card.picked {
  background: rgba(212, 175, 55, 0.2);
  border-color: #d4af37;
  box-shadow: 0 0 8px rgba(212, 175, 55, 0.4);
  pointer-events: none;
}

.grid-card.picked::after {
  content: '✓';
  color: #d4af37;
  font-size: 3vw;
  font-weight: 700;
}

.grid-card.just-picked {
  animation: pickFlash 0.4s ease;
}

@keyframes pickFlash {
  0% { transform: scale(1); }
  30% { transform: scale(1.15); box-shadow: 0 0 14px rgba(212, 175, 55, 0.6); }
  100% { transform: scale(1); }
}

.grid-hint {
  font-size: 3vw;
  color: #666;
  padding: 1vh 0;
  flex-shrink: 0;
}

/* ============================================================
   SPREAD VIEW
   ============================================================ */
.spread-screen {
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100vh;
  width: 100vw;
  padding: 1.5vh 3vw 1vh;
}

.spread-header {
  width: 100%;
  margin-bottom: 1.5vh;
}

.spread-title {
  font-size: 3.2vw;
  color: #d4af37;
  font-weight: 600;
  letter-spacing: 0.3vw;
}

.spread-area::-webkit-scrollbar{ display:none; }

/* Card tile uses the cell size, image decides its own ratio */


  /* critical: allow height to be driven by image */

.spread-symbol {
  font-size: 10vw;
}

.spread-label {
  position: absolute;
  bottom: 0.5vh;
  right: 1.5vw;
  font-size: 3vw;
  color: #e74c3c;
  font-weight: 900;
  Opacity: 0.95;
}

.spread-nav{
  flex-shrink: 0;
  position: sticky;
  bottom: 0;
  background: #0a0a12;
  align-content: center;
}

/* Spread area: row-based layout */
.spread-area{
  flex: 1;
  width: auto;
  display: flex;
  flex-direction: column;
  gap: 2vw;
}

/* 1–4 cards: center vertically */
.spread-area.single{
  justify-content: center;
  overflow: hidden;
}

/* 5+ cards: scrolling allowed */
.spread-area.scrolling{
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 1vh;
}
.spread-area.scrolling::-webkit-scrollbar{ display:none; }

/* Row templates */
.spread-row{
  width: auto;
  display: grid;
  gap: 2vw;
  justify-content: center;  /* centers rows that are narrower than full width */
}

.spread-row.cols-1{
  grid-template-columns: minmax(0, 1fr);
  max-width: 62vw;     /* makes 1 card nicely centered */
  margin: 0 auto;
}

.spread-row.cols-2{
  grid-template-columns: repeat(2, minmax(0, 1fr));
  max-width: 92vw;     /* keeps 2 cards centered */
  margin: 0 auto;
}

.spread-row.cols-3{
  grid-template-columns: repeat(3, minmax(0, 1fr));
}

.spread-row.cols-4{
  grid-template-columns: repeat(4, minmax(0, 1fr));
}

/* Card tile: let image keep its own aspect ratio (not forced 2:3) */
.spread-card{
  border-radius: 2.5vw;
  border: 5px solid var(--gold);
  box-shadow: 0 0 10px rgba(0,0,0,0.35), 0 0 10px var(--goldGlow);
  overflow: hidden;
  background: rgba(255,255,255,0.03);
  box-shadow: 0 0 10px rgba(212,175,55,0.12);
  position: relative;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* Upright = glowing gold */
.spread-card{
  border: 1.5px solid var(--gold);
  box-shadow:
    0 0 10px rgba(0,0,0,0.35),
    0 0 10px var(--goldGlow1),
    0 0 18px var(--goldGlow2),
    0 0 2px rgba(255, 241, 176, 0.55) inset;
}

/* Reversed = mysterious purple */
.spread-card.reversed{
  border: 1.5px solid var(--mystic);
  box-shadow:
    0 0 10px rgba(0,0,0,0.35),
    0 0 10px var(--mysticGlow),
    0 0 18px rgba(93,43,255,0.55),
    0 0 2px var(--mysticEdge) inset;
}

/* Image keeps true ratio and shrinks as needed */
.spread-img{
  width: 100%;
  height: auto;
  max-height: 50vh;          /* 1–4 cards look big */
  object-fit: contain;
  display: block;
}

/* In scrolling mode, shrink a bit so more fits per screen */
.spread-area.scrolling .spread-img{
  max-height: 45vh;
}

/* Keep reverse rotation */
.spread-card.reversed .spread-img,
.spread-card.reversed .spread-symbol{
  transform: rotate(180deg);
}


.spread-label{
  position:absolute;
  bottom:0.6vh;
  right:1.6vw;
  font-size:3.1vw;
  font-weight:900;
  opacity:0.95;
}

.spread-card.reversed .spread-label{
  color: var(--mystic);
  text-shadow:
    0 0 2px rgba(0,0,0,0.90),
    0 0 6px var(--mysticEdge),
    0 0 16px var(--mysticGlow1),
    0 0 28px rgba(93,43,255,0.55);
}
/* Keep nav visible */
.spread-nav{
  flex-shrink: 0;
  position: sticky;
  bottom: 0;
  background: #0a0a12;

  display: flex;              /* important */
  flex-direction: column;
  align-items: center;        /* centers horizontally */
  justify-content: center;

  gap: 1vh;
  width: 100%;
  padding: 1vh 0 1.5vh;
}

.link-btn {
  background: none;
  border: none;
  color: #888;
  font-size: 3vw;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  padding: 1vw 2vw;
  min-height: 44px;
  display: flex;
  align-items: center;
}

.link-btn:active {
  color: #d4af37;
}

/* ============================================================
   CARD DETAIL VIEW
   ============================================================ */
.card-view {
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100vh;
  width: 100vw;
  padding: 1.5vh 4vw 1vh;
}

.card-header {
  display: flex;
  justify-content: space-between;
  width: 100%;
  font-size: 3vw;
  color: #666;
  margin-bottom: 1vh;
}

.card-count {
  color: #d4af37;
  font-weight: 600;
}

.card-type {
  color: #888;
  font-style: italic;
}

.card-frame {
  width: min(25vw, 420px);
  aspect-ratio: 4 / 9;      /* ✅ tarot card ratio */
  height: auto;             /* ✅ let aspect-ratio control height */
  max-height: 60vh;

  border-radius: 3vw;
  border: 1.5px solid var(--gold);
  box-shadow:
    0 0 10px rgba(0,0,0,0.35),
    0 0 10px var(--goldGlow1),
    0 0 18px var(--goldGlow2),
    0 0 2px rgba(255, 241, 176, 0.55) inset;
  overflow: hidden;
  background: #0a0a12;      /* letterbox background */


  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}


/* Upright = glowing gold (strong + colorful) */
.card-frame.up{
  border-color: var(--gold);
  box-shadow:
    0 0 20px rgba(0,0,0,0.35),
    0 0 14px var(--goldGlow1),
    0 0 26px var(--goldGlow2),
    0 0 2px rgba(255, 241, 176, 0.55) inset;
}

/* Reversed = mysterious purple glow */
.card-frame.rev{
  border-color: var(--mystic);
  box-shadow:
    0 0 20px rgba(0,0,0,0.35),
    0 0 16px var(--mysticGlow1),
    0 0 32px rgba(93,43,255,0.55),
    0 0 3px var(--mysticEdge) inset;
}

.card-img-wrap {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.3s ease;
}

.card-img-wrap.reversed {
  transform: rotate(180deg);
}

.card-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.card-symbol-wrap {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  transition: transform 0.3s ease;
}

.card-symbol-wrap.reversed {
  transform: rotate(180deg);
}

.card-big-symbol {
  font-size: 20vw;
  filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.3));
}

.card-fallback {
  font-size: 4.5vw;
  color: #d4af37;
  text-align: center;
  padding: 4vw;
  font-weight: 600;
  line-height: 2;
}

.card-info {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1vh;
  margin-top: 1vh;
  flex-shrink: 0;
}

.card-name {
  font-size: 4.5vw;
  font-weight: 600;
  text-align: center;
  color: #f0e6d0;
  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.5);
  line-height: 1.2;
}



.card-orientation{
  font-size: 2vw;
  font-weight: 800;
  letter-spacing: 0.2vw;
  padding: 0.6vw 2vw;
  border-radius: 4vw;
  border: 1px solid transparent;
}

/* Upright = glowing gold */
.card-orientation.up{
  color: var(--gold);
  border: 1.5px solid var(--gold);
  box-shadow:
    0 0 20px rgba(0,0,0,0.35),
    0 0 14px var(--goldGlow1),
    0 0 26px var(--goldGlow2),
    0 0 2px rgba(255, 241, 176, 0.55) inset;
  text-shadow:
    0 0 2px rgba(0,0,0,0.85),
    0 0 8px var(--goldGlow1);
  background: rgba(212,175,55,0.10);
  border-color: rgba(212,175,55,0.55);
}

/* Reversed = mysterious purple glow */
.card-orientation.rev{
  color: var(--mystic);
  background: rgba(155,92,255,0.12);
  border: 1.5px solid rgba(155,92,255,0.65);
  box-shadow:
    0 0 20px rgba(0,0,0,0.35),
    0 0 14px var(--mysticEdge),
    0 0 26px var(--mysticGlow2),
    0 0 2px rgba(157, 3, 149, 0.55) inset;
  text-shadow:
    0 0 2px rgba(77, 0, 68, 0.85),
    0 0 8px var(--mysticGlow1);
}

/* Navigation */
.card-nav {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4vw;
  margin-top: auto;
  padding-bottom: 1.5vh;
  width: 100%;
  flex-shrink: 0;
}

.nav-btn {
  min-width: 30px;
  min-height: 30px;
  width: 10vw;
  height: 10vw;
  border-radius: 50%;
  border: 3px solid #444;
  background: #1a1a2e;
  color: #d4af37;
  font-size: 8vw;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
  padding: 0;
}
.nav-btn.up {
  font-size: 5.5vw;
  color: var(--gold)
}

.nav-btn.rev {
  font-size: 5.5vw;
  color: var(--mystic)
}

.nav-btn.rev:active {
  font-size: 7vw;
  background: var(--mystic);
  transform: scale(0.92);
}

.nav-btn:disabled {
  font-size: 5.5vw;
  opacity: 0.25;
  pointer-events: none;
}

.nav-btn.rev.reshuffle {
  font-size: 5.5vw;
  border-color: rgba(155,92,255,0.65);
  box-shadow:
    0 0 20px rgba(0,0,0,0.35),
    0 0 16px var(--mysticGlow1),
    0 0 32px rgba(93,43,255,0.55),
    0 0 3px var(--mysticEdge) inset;

  background: rgba(212, 175, 55, 0.1);
}

.nav-btn.up.reshuffle {
  font-size: 5.5vw;
  border-color: #d4af37;
  box-shadow:
    0 0 20px rgba(0,0,0,0.35),
    0 0 14px var(--goldGlow1),
    0 0 26px var(--goldGlow2),
    0 0 2px rgba(255, 241, 176, 0.55) inset;
  background: rgba(212, 175, 55, 0.1);
}


.nav-btn.reshuffle:active {
  background: rgba(212, 175, 55, 0.25);
}

.nav-btn.home-btn {
  font-size: 6vw;
  border-color: #666;
  align-items: center;
  display: flex;
}

/* ============================================================
   Rabbit R1 picker-only override (safe)
   Paste at END of style.css
   ============================================================ */

/* R1 screen is short: keep the SAME UI, just make it fit */
@media (max-height: 520px), (max-width: 420px) {

  .picker-screen{
    padding: 1.5vh 3vw 1.5vh; /* slightly tighter */
  }

  /* Title/heading slightly smaller so wheels + button fit */
  .picker-title{
    font-size: 6vw;
    margin-bottom: 0.2vh;
  }

  .picker-heading{
    font-size: 6vw;
    letter-spacing: 3vw;
    margin-bottom: 1vh;
  }

  /* Let the wheel area shrink and scroll internally if needed */
  .picker-cols{
    flex: 1;
    min-height: 0;          /* CRITICAL: allows children to shrink */
  }

  .picker-col{
    min-height: 0;          /* CRITICAL */
  }

  /* This is the main fix: wheel height becomes responsive */
  .wheel-mask{
    height: min(240px, 40vh);
  }

  /* Keep the Start button always visible at bottom */
  .btn-start{
    margin-top: auto;       /* pushes button down */
    margin-bottom: max(1vh, env(safe-area-inset-bottom));
    padding: 2.2vw 10vw;
    font-size: 4vw;
  }
}

/* ============================================================
   FIX: "View Spread" button too huge after picking cards
   Paste at END of style.css
   ============================================================ */

/* If your button uses .link-btn, this will fix it.
   If it uses another class, add it to the selector list. */
.link-btn,
.btn-view-spread,
.view-spread-btn,
.btn-start {
  flex: 0 0 auto;                 /* prevent flex stretching */
  align-self: center;              /* don't stretch full width */
  width: auto;
  max-width: min(92vw, 420px);     /* cap size so it can't take over */
  padding: clamp(10px, 1.6vh, 14px) clamp(16px, 4vw, 26px);
  font-size: clamp(14px, 3.6vw, 18px);
  line-height: 1.1;
}

/* If it's inside a sticky/footer container, keep footer compact */
.grid-nav,
.spread-nav {
  padding-left: 3vw;
  padding-right: 3vw;
}

/* ============================================================
   SMALL SCREEN FIXES
   1) Start screen "Next" button stretches naturally
   2) Card detail nav buttons have larger text
   Paste at END of style.css
   ============================================================ */

/* --- 1) START SCREEN: make the primary button stretch --- */
.picker-footer{
  width: min(92vw, 320px);
  display: flex;
  align-items: center;
  gap: 12px;
}

.picker-footer .btn-start{
  flex: 1 1 auto !important;     /* allow it to grow */
  width: 100% !important;        /* fill remaining space */
  align-self: stretch !important;
  margin: 0 !important;          /* prevent left offset */
  text-align: center;
}

/* IMPORTANT: your current "View Spread button too huge" fix includes .btn-start.
   That rule is what makes Next small/centered.
   This override forces btn-start back to full-width behavior on start screens. */

/* --- 2) CARD DETAIL: bigger text inside next/prior buttons --- */
.card-nav .nav-btn{
  /* keep buttons usable + text readable across devices */
  width: clamp(44px, 12vw, 64px);
  height: clamp(44px, 12vw, 64px);
  min-width: 44px;
  min-height: 44px;

  /* bigger icon/text */
  font-size: clamp(18px, 6vw, 30px);
  line-height: 1;
}

/* Extra boost on very small/short screens (Rabbit R1-like) */
@media (max-height: 520px), (max-width: 420px){
  .picker-footer .btn-start{
    min-height: 48px;
    font-size: clamp(16px, 4.6vw, 20px);
    padding: 12px 0;
  }

  .card-nav .nav-btn{
    font-size: clamp(20px, 7vw, 32px);
  }
}